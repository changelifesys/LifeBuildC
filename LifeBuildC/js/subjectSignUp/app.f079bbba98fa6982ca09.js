webpackJsonp([1],[,,,,,,,,,function(t,e,a){"use strict";function s(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),s=a.exec(e);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}e.a=s},,function(t,e,a){function s(t){a(38)}var r=a(1)(a(30),a(47),s,null,null);t.exports=r.exports},,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(3),r=a.n(s),o=a(44),n=a.n(o),i=a(45),c=a.n(i),l=a(43),u=a.n(l),p=a(35),d=(a.n(p),a(36)),v=(a.n(d),a(9));e.default={name:"app",data:function(){return{showSuccess:!1,successData:{},datas:{SBName:"",SUC:"",SBDate:"",SBL:"",SUDate:"",Church:[],MakeUp:[]},showError:!0,errorMsg:"",categoryId:""}},methods:{linkToSuccessPage:function(t){this.showSuccess=!0,this.successData=t.data},showError:function(t){this.showError=!0,this.errorMsg=t}},components:{SignupForm:n.a,SuccessPage:c.a,ErrorPage:u.a},created:function(){var t=a.i(v.a)("id"),e=this;t?r.a.post("/api/GetSUBInfo.aspx",{Category_ID:t}).then(function(t){t.data.ErrMsg?e.errorMsg=t.data.ErrMsg:(e.datas=t.data,e.showError=!1)}).catch(function(t){e.errorMsg="發生錯誤!",console.warn(t)}):(this.showError=!0,this.errorMsg="發生錯誤!")}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["msg"]}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(3),r=a.n(s),o=a(41),n=a.n(o),i=a(9);e.default={data:function(){return{isNotInGroup:!1,groupTypeName:"",groupName:"",name:"",gmail:"",church:"",makeup:"",phone:"",groupClass:[],isSending:!1}},props:["datas"],computed:{groups:function(){for(var t=this.groupTypeName,e=this.groupClass,a=0,s=e.length;a<s;a++)if(e[a].group==t)return e[a].list;return[]}},watch:{isNotInGroup:function(t){t&&(this.groupTypeName="",this.groupName="")}},methods:{callAddSubSign:function(t,e,a){var s=this;r.a.post("/api/AddSubSign.aspx",{S_ID:s.datas.S_ID,Category:e,gcroup:s.groupTypeName,group:s.groupName,name:s.name,G_mail:s.gmail,Church:s.church,Phone:s.phone,ChkStatus:t,MID:a},{headers:{"content-type":"application/json"}}).then(function(t){s.isSending=!1,n()({title:"報名成功",icon:"success"}).then(function(e){s.$emit("linkToSuccessPage",t)})}).catch(function(t){s.isSending=!1,n()("Oops...",t,"error")})},submit:function(){var t=this;if(!this.isSending){var e=this;if(!(e.isNotInGroup||e.groupTypeName&&e.groupName))return void n()("Oops...","請選擇組別及小組","error");this.$validator.validateAll().then(function(){e.isSending=!0,r.a.post("/api/ChkMember.aspx",{GroupName:e.groupName,Ename:e.name,Phone:e.phone}).then(function(s){var r=s.data.ChkStatus,o=s.data.ChkMsg,c=s.data.MID,l=a.i(i.a)("id");""===o?t.callAddSubSign(r,l,c):(console.log("response",s),n()(o,{buttons:{yes:"是",no:"否",cancelCheck:"取消",default:!1},closeOnClickOutside:!1}).then(function(a){switch(a){case"yes":t.callAddSubSign(r,l,c);break;case"no":t.callAddSubSign(0,l,c);break;case"cancelCheck":e.isSending=!1;break;default:return!1}}))}).catch(function(t){e.isSending=!1,n()("Oops...",t,"error")})}).catch(function(t){n()("Oops...","請確實填寫需要的資訊","error")})}}},created:function(){var t=this;r.a.get("/api/GetGroupItem.aspx").then(function(e){t.groupClass=e.data.DataInfo}).catch(function(t){console.log(t)})}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["data"]}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(12),r=a(11),o=a.n(r),n=a(10),i=a.n(n);s.a.config.productionTip=!1;var c={locale:"tw",dictionary:{tw:{messages:{email:function(){return"請填寫正確 Email 格式"},required:function(){return"此欄位必填"},isGmail:function(){return"請填寫正確 Gmail 格式"},twPhone:function(){return"請填寫正確手機格式"}}}}};i.a.Validator.extend("isGmail",{getMessage:function(t){return"The "+t+" value is not truthy."},validate:function(t){return/^[a-z0-9](\.?[a-z0-9]){5,}@g(oogle)?mail\.com$/.test(t)}}),i.a.Validator.extend("twPhone",{getMessage:function(t){return"The "+t+" value is not truthy."},validate:function(t){return t=t.toString(),!!/^[09]{2}[0-9]{8}$/.test(t)}}),s.a.use(i.a,c),new s.a({el:"#app",template:"<App/>",components:{App:o.a}})},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,function(t,e,a){t.exports=a.p+"static/img/title.eb480c9.jpg"},function(t,e,a){var s=a(1)(a(31),a(48),null,null,null);t.exports=s.exports},function(t,e,a){function s(t){a(37)}var r=a(1)(a(32),a(46),s,"data-v-05428ed4",null);t.exports=r.exports},function(t,e,a){var s=a(1)(a(33),a(49),null,null,null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"title"},[a("h3",[t._v("生命建造程序")]),t._v(" "),a("h1",[t._v(t._s(t.datas.SBName))])]),t._v(" "),a("div",{staticClass:"formInfo"},[a("p",[t._v("本表個人資料將作建檔處理，並於日後會務活動運作之目的內，由教會及同工為聯絡通訊、關懷及相關合理運用。我們會盡善良管理人責任，妥善保管資料，避免外洩或不當用途之使用。")]),t._v(" "),a("ul",{staticClass:"text-info"},[a("li",[t._v("報名條件："+t._s(t.datas.SUC))]),t._v(" "),a("li",[t._v("上課時間："+t._s(t.datas.SBDate))]),t._v(" "),a("li",[t._v("地點："+t._s(t.datas.SBL))]),t._v(" "),a("li",[t._v("報名日期："+t._s(t.datas.SUDate))])])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"formBox"},[a("form",{staticClass:"form-horizontal"},[t._m(0),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-offset-2 col-sm-10"},[a("div",{staticClass:"checkbox"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isNotInGroup,expression:"isNotInGroup"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isNotInGroup)?t._i(t.isNotInGroup,null)>-1:t.isNotInGroup},on:{__c:function(e){var a=t.isNotInGroup,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);r?o<0&&(t.isNotInGroup=a.concat(null)):o>-1&&(t.isNotInGroup=a.slice(0,o).concat(a.slice(o+1)))}else t.isNotInGroup=r}}}),t._v(" 我目前尚未加入小組\n            ")])])])]),t._v(" "),a("div",{staticClass:"form-group row"},[t._m(1),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.groupTypeName,expression:"groupTypeName"}],staticClass:"form-control",attrs:{name:"groupType",id:"groupType",disabled:t.isNotInGroup},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.groupTypeName=e.target.multiple?a:a[0]}}},t._l(t.groupClass,function(e){return a("option",{key:e.group},[t._v(t._s(e.group))])}))])]),t._v(" "),a("div",{staticClass:"form-group row"},[t._m(2),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.groupName,expression:"groupName"}],staticClass:"form-control",attrs:{name:"group",id:"group",disabled:t.isNotInGroup},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.groupName=e.target.multiple?a:a[0]}}},t._l(t.groups,function(e){return a("option",{key:e.split(".")[0],domProps:{value:e}},[t._v(t._s(e))])}))])]),t._v(" "),a("div",{staticClass:"form-group row"},[t._m(3),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"name",placeholder:"請填寫姓名"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name"),expression:"errors.has('name')"}],staticClass:"text-danger"},[t._v(t._s(t.errors.first("name")))])])]),t._v(" "),a("div",{staticClass:"form-group row"},[t._m(4),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|twPhone",expression:"'required|twPhone'"},{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control",attrs:{type:"text",id:"phone",name:"phone",placeholder:"請填寫手機"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("phone"),expression:"errors.has('phone')"}],staticClass:"text-danger"},[t._v(t._s(t.errors.first("phone")))])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"email"}},[t._v("Gmail")]),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"email|isGmail",expression:"'email|isGmail'"},{name:"model",rawName:"v-model",value:t.gmail,expression:"gmail"}],staticClass:"form-control",attrs:{type:"email",id:"email",name:"email",placeholder:"請填寫 google 信箱"},domProps:{value:t.gmail},on:{input:function(e){e.target.composing||(t.gmail=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("email"),expression:"errors.has('email')"}],staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"church"}},[t._v("所屬教會")]),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.church,expression:"church"}],staticClass:"form-control",attrs:{name:"church",id:"church"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.church=e.target.multiple?a:a[0]}}},t._l(t.datas.Church,function(e){return a("option",{key:e},[t._v(t._s(e))])}))])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-sm-offset-2 col-sm-10"},[a("button",{staticClass:"btn btn-default",attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.submit(e)}}},[t.isSending?a("span",[a("i",{staticClass:"fa fa-circle-o-notch fa-spin"}),t._v(" Sending...\n            ")]):a("span",[t._v("報名")])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"0"}},[a("div",{staticClass:"col-sm-offset-2 col-sm-10"},[a("label",{staticClass:"text-danger"},[t._v("* 必填")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"groupType"}},[a("span",{staticClass:"text-danger"},[t._v("* ")]),t._v("組別\n        ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"group"}},[a("span",{staticClass:"text-danger"},[t._v("* ")]),t._v("小組\n        ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"name"}},[a("span",{staticClass:"text-danger"},[t._v("* ")]),t._v("姓名\n        ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"phone"}},[a("span",{staticClass:"text-danger"},[t._v("* ")]),t._v("手機\n        ")])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("img",{attrs:{src:a(42),id:"mainBg"}}),t._v(" "),s("div",{staticClass:"container"},[s("transition-group",{attrs:{name:"fade",mode:"out-in"}},[t.showError?s("ErrorPage",{key:"errorPage",attrs:{msg:t.errorMsg}}):t._e(),t._v(" "),t.showSuccess||t.showError?t._e():s("SignupForm",{key:"signupForm",attrs:{datas:t.datas},on:{linkToSuccessPage:function(e){t.linkToSuccessPage(e)},showError:function(e){t.showError(e)}}}),t._v(" "),t.showSuccess&&!t.showError?s("SuccessPage",{key:"successPage",attrs:{data:t.successData}}):t._e()],1)],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v(t._s(t.msg))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"title"},[a("h3",[t._v(t._s(t.data.gcname))]),t._v(" "),a("h1",[t._v(t._s(t.data.SBName))])]),t._v(" "),a("div",{staticClass:"formInfo"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered"},[t._m(0),t._v(" "),a("tbody",t._l(t.data.SBInfo,function(e){return a("tr",{key:e.SBClass},[a("td",[t._v(t._s(e.SBDate))]),t._v(" "),a("td",[t._v(t._s(e.SBClass))]),t._v(" "),a("td",[t._v(t._s(e.status))])])}))])]),t._v(" "),a("p",{staticClass:"text-info"},[a("i",{staticClass:"fa fa-circle",attrs:{"aria-hidden":"true"}}),t._v("\n      "+t._s(t.data.cbook)+"\n    ")])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("td",[t._v("上課時間")]),t._v(" "),a("td",[t._v("課程")]),t._v(" "),a("td",[t._v("上課狀態")])])])}]}}],[34]);
//# sourceMappingURL=app.f079bbba98fa6982ca09.js.map